<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel=stylesheet type="text/css" href="../dist/css/hologram.css">
    <title>Widget Sandbox</title>
</head>

<body>

    <form>
        <div class="form-group">
            <label for="files">File:</label><input type="text" class="form-control" id="files">
          </div>
    </form>

    <br />
    <div id="hologram-preview"></div>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="../dist/bundle.js"></script>
    <script>
    var store = window.hologram.store;

    window.hologram(document.getElementById('hologram-preview'), {
        uploadUrl: '/hologram/hologram-server/',
        config: {
            uploader: '/hologram/hologram-server/upload.php'
        },
    });

    store.subscribe(function(){
        var files = store.getState().files;
        var val = JSON.stringify(files);
        $('#files').val(val);
    });

    $('#files').change(function(){
        try{
            var files = JSON.parse($('#files').val());
            store.dispatch(window.hologram.addFiles(files));
        }catch(ex){

        }
    });

</script>
</body>
</html>
